<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FoodClass Pro — Epic</title>

  <style>
    /* === Reset y variables === */
    :root{
      --bg:#060816;
      --panel:#071428;
      --muted:#98a0b3;
      --accent1:#ff7a59;
      --accent2:#7a9bff;
      --glass: rgba(255,255,255,0.03);
      --radius:16px;
      --electric:#46f0ff;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      background: radial-gradient(1200px 600px at 10% 10%, rgba(122,155,255,0.06), transparent), linear-gradient(180deg,#020612 0%, #061026 100%);
      color:#eaf2ff;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      -webkit-font-smoothing:antialiased;
      padding:28px;
    }
    .wrap{ max-width:1150px; margin:20px auto; }

    /* Appbar */
    .appbar{ display:flex; gap:16px; align-items:center; margin-bottom:18px;}
    .logo{ display:flex; align-items:center; gap:10px; padding:8px 12px; border-radius:12px;
           background: linear-gradient(90deg,var(--accent1),var(--accent2)); color:#05102a; font-weight:700;}
    .titleBlock{display:flex;flex-direction:column}
    .titleMain{font-size:26px; font-weight:800; letter-spacing:0.2px;}
    .subtitle{font-size:13px; color:var(--muted)}

    /* card layout */
    .card{ display:grid; grid-template-columns:380px 1fr; gap:24px;
           background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01));
           border-radius:var(--radius); padding:22px; box-shadow: 0 12px 40px rgba(2,6,23,0.6);
           border:1px solid rgba(255,255,255,0.02);
         }

    /* electric border wrapper */
    .electric-border{ position:relative; border-radius:12px; overflow:visible; isolation:isolate;
                      --electric-border-color: var(--electric); --eb-border-width: 2px; }
    /* layers placed by JS/SVG */
    .eb-content{ position:relative; z-index:2; padding:12px; background: linear-gradient(0deg, rgba(255,255,255,0.01), transparent); border-radius:12px; }

    /* left preview */
    .previewArea{ display:flex; flex-direction:column; gap:12px; align-items:center; padding:12px; min-height:320px; }
    .previewImg{ width:100%; border-radius:10px; object-fit:cover; border:1px solid rgba(255,255,255,0.03); max-height:280px; display:block; }
    .hint{ color:var(--muted); font-size:13px; text-align:center; }

    /* controls */
    .controls{ display:flex; gap:12px; align-items:center; margin-bottom:6px; flex-wrap:wrap }
    .file-btn{ padding:10px 12px; background:transparent; border:1px dashed rgba(255,255,255,0.04); border-radius:10px; color:var(--muted); cursor:pointer; }
    .primary { padding:10px 16px; border-radius:12px; border:0; cursor:pointer; font-weight:700;
                background: linear-gradient(90deg,var(--accent1),var(--accent2)); color:#041226; box-shadow: 0 8px 20px rgba(122,155,255,0.08); }
    .primary[disabled]{opacity:0.55; cursor:not-allowed}

    /* info right column */
    .info { padding:6px 8px; }
    .resultCard{ margin-top:6px; padding:18px; border-radius:12px; background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02)); border:1px solid rgba(255,255,255,0.02) }
    .label{ font-size:22px; font-weight:800; color:#fff }
    .conf{ margin-top:8px; color:#dbeafe; font-weight:700; font-size:16px }
    .muted{ color:var(--muted); font-size:13px }

    /* animated gradient title */
    .gradient-text{
      font-weight:900;
      font-size:30px;
      background:linear-gradient(90deg, #8ef3ff, #7a9bff, #ff9a78);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-size:200% 100%;
      animation: gradMove 6s linear infinite;
      display:inline-block;
    }
    @keyframes gradMove { 0%{background-position:0%} 50%{background-position:100%} 100%{background-position:0%} }

    /* small top3 list */
    ul.top3{ margin:12px 0 0 18px; color:var(--muted); }
    ul.top3 li{ margin-bottom:6px; font-weight:600; color:#e7f2ff }

    /* splash canvas full page (pointer-events none so it doesn't block clicks) */
    #splashCanvas{ position:fixed; inset:0; z-index:0; pointer-events:none; opacity:0.18; mix-blend-mode:screen; }

    @media (max-width:980px){
      .card{ grid-template-columns:1fr; }
      .previewImg{ max-height:200px }
    }
  </style>
</head>
<body>
  <!-- splash canvas -->
  <canvas id="splashCanvas" aria-hidden="true"></canvas>

  <div class="wrap">
    <header class="appbar">
      <div class="logo">FoodClass Pro</div>
      <div class="titleBlock">
        <div class="titleMain"><span class="gradient-text">Food Classifier — Pro</span></div>
        <div class="subtitle">Interfaz épica — modelo Food-101</div>
      </div>
    </header>

    <main class="card" role="main">
      <!-- LEFT: preview inside electric border -->
      <div class="electric-border" id="electricRoot">
        <!-- SVG filter placed via inline defs for electric effect -->
        <svg class="eb-svg" width="0" height="0" aria-hidden="true">
          <defs>
            <filter id="eb-turb" x="-200%" y="-200%" width="500%" height="500%">
              <feTurbulence baseFrequency="0.02" numOctaves="3" seed="2" result="t"/>
              <feDisplacementMap in="SourceGraphic" in2="t" scale="14" xChannelSelector="R" yChannelSelector="G" />
            </filter>
          </defs>
        </svg>

        <!-- layers (stroke + glow) -->
        <div class="eb-layers" style="position:absolute;inset:0;border-radius:12px;pointer-events:none;z-index:1">
          <div class="eb-stroke" style="position:absolute;inset:0;border-radius:12px;box-shadow:0 0 30px var(--electric); border:var(--eb-border-width) solid var(--electric); filter:url(#eb-turb);"></div>
          <div class="eb-glow" style="position:absolute;inset:-6px;border-radius:14px;filter:blur(12px);opacity:0.6;background:linear-gradient(120deg, rgba(70,240,255,0.12), rgba(122,155,255,0.06));"></div>
        </div>

        <div class="eb-content">
          <section class="previewArea">
            <img id="previewImg" class="previewImg" src="" alt="preview" style="display:none"/>
            <div class="hint">Arrastra o sube una imagen — JPG/PNG</div>
          </section>
        </div>
      </div>

      <!-- RIGHT: controls + results -->
      <section class="info" aria-live="polite">
        <div class="controls" role="region" aria-label="controls">
          <label class="file-btn" for="fileInput">Seleccionar imagen</label>
          <input id="fileInput" type="file" accept="image/*" style="display:none"/>
          <button id="sendBtn" class="primary" disabled>Enviar</button>
          <div id="status" class="muted" style="margin-left:auto">Listo</div>
        </div>

        <div class="resultCard" id="resultCard" style="display:none">
          <div class="label">Predicción: <span id="labelText">—</span></div>
          <div class="conf" id="confText">Confianza: —</div>
          <div id="topListContainer"></div>
        </div>

        <div style="margin-top:14px" class="muted">Consejo: fotos centradas del plato funcionan mejor. Si la confianza es baja (<40%), prueba otra foto.</div>
      </section>
    </main>
  </div>

  <script src="app.js"></script>
</body>
</html>
